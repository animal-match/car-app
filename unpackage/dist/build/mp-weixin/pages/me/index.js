(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/index"],{1666:function(e,t,n){"use strict";n.r(t);var o=n("c0c1"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"17f7":function(e,t,n){"use strict";n.r(t);var o=n("7abc"),i=n("1666");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("9b2c"),n("2946");var u,s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"c449e890",null,!1,o["a"],u);t["default"]=r.exports},2946:function(e,t,n){"use strict";var o=n("fe7e"),i=n.n(o);i.a},"4b83":function(e,t,n){"use strict";(function(e){n("e3e7");o(n("66fd"));var t=o(n("17f7"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"7abc":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uGap:function(){return n.e("node-modules/uview-ui/components/u-gap/u-gap").then(n.bind(null,"dd55"))},uImage:function(){return n.e("node-modules/uview-ui/components/u-image/u-image").then(n.bind(null,"7583"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"8626"))}},i=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"9b2c":function(e,t,n){"use strict";var o=n("ee47"),i=n.n(o);i.a},c0c1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{isVip:0,avatar:"",userName:"",isLogin:!1,phoneNumCode:"15828292076",modules:[{id:1,moduleName:"会员中心",url:"/static/user-center-images/vip.png"},{id:2,moduleName:"商家入驻",url:"/static/user-center-images/merchant.png"},{id:3,moduleName:"我的供求信息",url:"/static/user-center-images/supply.png"},{id:4,moduleName:"分销商",url:"/static/user-center-images/sale.png"},{id:5,moduleName:"商家收藏",url:"/static/user-center-images/star.png"}]}},computed:{phoneNum:function(){var e,t;return e=this.phoneNumCode.slice(0,3),t=this.phoneNumCode.slice(7),console.log(e,t),e+"****"+t}},onLoad:function(){var t=this;e.$on("setUser",(function(e){console.log("我的信息页面用户信息",e),t.userName=e.nickName,t.avatar=e.avatar}));var n=this.$store.state.user;console.log("自动登录信息",n),this.userName=n.nickName,this.avatar=n.avatarUrl},onShow:function(){var t=this;console.log("检查登录状态vuex",this.$store.state.isLogin);var n=e.getStorageSync("token");this.isLogin=!!n,console.log("检查登录状态Storage",this.isLogin),e.$on("vipStatus",(function(e){t.isVip=e,console.log("手动登录会员",e)})),this.isVip=e.getStorageSync("isVip")||0},methods:{logout:function(){var t=this,n=e.getStorageSync("token");this.$request({url:"/api/user/logout",data:{token:n},success:function(n){if(0===n.code)return e.showToast({icon:"none",title:n.msg,duration:3e3}),!1;t.isLogin=!1,t.userName="",t.avatar="",t.isVip=0,t.$store.commit("changeLoginState",!1),t.$store.commit("clearUserInfo"),e.clearStorage(),e.showToast({icon:"none",title:"已退出登录"})}})},login:function(){0==this.isLogin&&e.navigateTo({url:"/pages/me/login"})},intoDetailsPage:function(t){switch(t){case 1:0==this.isVip?e.navigateTo({url:"/pages/merchants/payment/index"}):e.showToast({title:"您已是黄金会员",icon:"none"});break;case 2:e.navigateTo({url:"/pages/me/merchant-enter/index"});break;case 3:e.navigateTo({url:"/pages/me/my-supply-info/index"});break;case 4:e.navigateTo({url:"/pages/me/distributor/index"});break;case 5:e.navigateTo({url:"/pages/me/collection/index"});break}}}};t.default=n}).call(this,n("543d")["default"])},ee47:function(e,t,n){},fe7e:function(e,t,n){}},[["4b83","common/runtime","common/vendor"]]]);